
enum PaymentStatus {
  PENDING
  COMPLETED
  FAILED
  REFUNDED
}

enum PaymentMethod {
  STRIPE
  PAYPAL
  CASH_ON_DELIVERY
}

model Payment {
  id            String        @id @default(uuid())
  orderId       String        @unique @map("order_id")
  amount        Decimal       @db.Decimal(10, 2)
  method        PaymentMethod
  status        PaymentStatus @default(PENDING)
  transactionId String?       @map("transaction_id")
  metadata      Json?
  createdAt DateTime @default(now()) @map("created_at")
  updatedAt DateTime @updatedAt  @map("updated_at")


  // Relations
  order Order @relation(fields: [orderId], references: [id], onDelete: Cascade)

  @@index([transactionId])
  @@map("payments")
}